<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="600" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-family="Arial" font-size="24" font-weight="bold" fill="#2c3e50">
    ESC/ESP - Elektronisk stabilitetskontroll
  </text>
  
  <!-- Main scenario illustration -->
  <g transform="translate(50, 60)">
    <!-- Road -->
    <rect x="100" y="300" width="600" height="80" fill="#7f8c8d" opacity="0.3"/>
    <line x1="100" y1="340" x2="700" y2="340" stroke="#fff" stroke-width="3" stroke-dasharray="20,10"/>
    
    <!-- Curve -->
    <path d="M500 300 Q600 250 700 280" stroke="#34495e" stroke-width="4" fill="none"/>
    <path d="M500 380 Q600 430 700 400" stroke="#34495e" stroke-width="4" fill="none"/>
    
    <!-- Car without ESC (skidding) -->
    <g transform="translate(250, 300)">
      <rect x="0" y="0" width="80" height="40" fill="#e74c3c" stroke="#c0392b" stroke-width="2" rx="8"/>
      <text x="40" y="25" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="white">UTEN ESC</text>
      <!-- Skid marks -->
      <path d="M0 40 Q-20 60 -30 80" stroke="#2c3e50" stroke-width="3" fill="none"/>
      <path d="M80 40 Q100 60 110 80" stroke="#2c3e50" stroke-width="3" fill="none"/>
      <!-- Direction arrow -->
      <path d="M90 20 L130 20" stroke="#e74c3c" stroke-width="3" fill="none" marker-end="url(#arrowRed)"/>
    </g>
    
    <!-- Car with ESC (controlled) -->
    <g transform="translate(450, 280)">
      <rect x="0" y="0" width="80" height="40" fill="#27ae60" stroke="#229954" stroke-width="2" rx="8"/>
      <text x="40" y="25" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="white">MED ESC</text>
      <!-- Controlled path -->
      <path d="M40 40 Q60 60 80 90" stroke="#27ae60" stroke-width="3" fill="none"/>
      <!-- Direction arrow -->
      <path d="M90 20 L130 35" stroke="#27ae60" stroke-width="3" fill="none" marker-end="url(#arrowGreen)"/>
    </g>
  </g>
  
  <!-- ESC components diagram -->
  <g transform="translate(100, 420)">
    <rect x="0" y="0" width="600" height="160" fill="#fff" stroke="#bdc3c7" stroke-width="1" rx="10"/>
    <text x="300" y="25" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#2c3e50">
      ESC System komponenter
    </text>
    
    <!-- Central ECU -->
    <rect x="260" y="60" width="80" height="40" fill="#34495e" rx="5"/>
    <text x="300" y="75" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="white">ESC ECU</text>
    <text x="300" y="88" text-anchor="middle" font-family="Arial" font-size="8" fill="white">Styreenhet</text>
    
    <!-- Sensors -->
    <g>
      <!-- Yaw rate sensor -->
      <circle cx="150" cy="80" r="15" fill="#e74c3c"/>
      <text x="150" y="85" text-anchor="middle" font-family="Arial" font-size="8" font-weight="bold" fill="white">YAW</text>
      <line x1="165" y1="80" x2="260" y2="80" stroke="#7f8c8d" stroke-width="2"/>
      <text x="150" y="110" text-anchor="middle" font-family="Arial" font-size="10" fill="#e74c3c">Giroskop</text>
      <text x="150" y="123" text-anchor="middle" font-family="Arial" font-size="9" fill="#e74c3c">sensor</text>
      
      <!-- Lateral acceleration -->
      <circle cx="450" cy="80" r="15" fill="#f39c12"/>
      <text x="450" y="85" text-anchor="middle" font-family="Arial" font-size="8" font-weight="bold" fill="white">LAT</text>
      <line x1="435" y1="80" x2="340" y2="80" stroke="#7f8c8d" stroke-width="2"/>
      <text x="450" y="110" text-anchor="middle" font-family="Arial" font-size="10" fill="#f39c12">G-kraft</text>
      <text x="450" y="123" text-anchor="middle" font-family="Arial" font-size="9" fill="#f39c12">sensor</text>
      
      <!-- Steering angle -->
      <rect x="285" y="30" width="30" height="15" fill="#3498db" rx="3"/>
      <circle cx="300" cy="37" r="5" fill="#fff"/>
      <line x1="300" y1="45" x2="300" y2="60" stroke="#7f8c8d" stroke-width="2"/>
      <text x="300" y="20" text-anchor="middle" font-family="Arial" font-size="10" fill="#3498db">Rattvinkel</text>
      
      <!-- Wheel speed sensors -->
      <circle cx="100" cy="140" r="8" fill="#9b59b6"/>
      <circle cx="200" cy="140" r="8" fill="#9b59b6"/>
      <circle cx="400" cy="140" r="8" fill="#9b59b6"/>
      <circle cx="500" cy="140" r="8" fill="#9b59b6"/>
      <text x="100" y="145" text-anchor="middle" font-family="Arial" font-size="6" fill="white">W</text>
      <text x="200" y="145" text-anchor="middle" font-family="Arial" font-size="6" fill="white">W</text>
      <text x="400" y="145" text-anchor="middle" font-family="Arial" font-size="6" fill="white">W</text>
      <text x="500" y="145" text-anchor="middle" font-family="Arial" font-size="6" fill="white">W</text>
      
      <!-- Connections to ECU -->
      <line x1="150" y1="130" x2="280" y2="100" stroke="#7f8c8d" stroke-width="1"/>
      <line x1="220" y1="130" x2="290" y2="100" stroke="#7f8c8d" stroke-width="1"/>
      <line x1="380" y1="130" x2="310" y2="100" stroke="#7f8c8d" stroke-width="1"/>
      <line x1="450" y1="130" x2="320" y2="100" stroke="#7f8c8d" stroke-width="1"/>
      
      <text x="300" y="158" text-anchor="middle" font-family="Arial" font-size="10" fill="#9b59b6">Hjulhastighetssensorer</text>
    </g>
  </g>
  
  <!-- How ESC works -->
  <g transform="translate(50, 200)">
    <rect x="0" y="0" width="700" height="180" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="1" rx="10"/>
    <text x="350" y="25" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#2c3e50">
      Hvordan ESC fungerer
    </text>
    
    <!-- Step by step -->
    <g transform="translate(30, 40)">
      <!-- Step 1 -->
      <circle cx="20" cy="20" r="15" fill="#e74c3c"/>
      <text x="20" y="25" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="white">1</text>
      <text x="50" y="15" font-family="Arial" font-size="12" font-weight="bold" fill="#2c3e50">Detekterer ustabilitet</text>
      <text x="50" y="30" font-family="Arial" font-size="10" fill="#2c3e50">Sensorer registrerer at bilens bevegelse ikke</text>
      <text x="50" y="42" font-family="Arial" font-size="10" fill="#2c3e50">stemmer overens med førerens rattkontroll</text>
      
      <!-- Step 2 -->
      <circle cx="370" cy="20" r="15" fill="#f39c12"/>
      <text x="370" y="25" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="white">2</text>
      <text x="400" y="15" font-family="Arial" font-size="12" font-weight="bold" fill="#2c3e50">Beregner korrigering</text>
      <text x="400" y="30" font-family="Arial" font-size="10" fill="#2c3e50">ESC-modulen beregner hvilke hjul som</text>
      <text x="400" y="42" font-family="Arial" font-size="10" fill="#2c3e50">må bremses for å stabilisere bilen</text>
      
      <!-- Step 3 -->
      <circle cx="20" cy="90" r="15" fill="#27ae60"/>
      <text x="20" y="95" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="white">3</text>
      <text x="50" y="85" font-family="Arial" font-size="12" font-weight="bold" fill="#2c3e50">Aktiverer bremser</text>
      <text x="50" y="100" font-family="Arial" font-size="10" fill="#2c3e50">Systemet bremser selektivt individuelle hjul</text>
      <text x="50" y="112" font-family="Arial" font-size="10" fill="#2c3e50">og reduserer motoreffekt om nødvendig</text>
      
      <!-- Step 4 -->
      <circle cx="370" cy="90" r="15" fill="#3498db"/>
      <text x="370" y="95" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="white">4</text>
      <text x="400" y="85" font-family="Arial" font-size="12" font-weight="bold" fill="#2c3e50">Stabiliserer bilen</text>
      <text x="400" y="100" font-family="Arial" font-size="10" fill="#2c3e50">Bilen holdes på rett kurs og følger</text>
      <text x="400" y="112" font-family="Arial" font-size="10" fill="#2c3e50">førerens ønskede retning</text>
    </g>
    
    <text x="350" y="160" text-anchor="middle" font-family="Arial" font-size="11" font-style="italic" fill="#7f8c8d">
      ESC kan redusere risikoen for utforkjøring med opptil 50%
    </text>
  </g>
  
  <!-- Arrow definitions -->
  <defs>
    <marker id="arrowRed" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#e74c3c"/>
    </marker>
    <marker id="arrowGreen" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#27ae60"/>
    </marker>
  </defs>
</svg>