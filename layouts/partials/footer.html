{{ $site := .Site }}
<footer class="bg-gray-900 text-white pt-16 pb-8">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid md:grid-cols-3 gap-8 mb-8">
            <!-- Company Info -->
            <div>
                <div class="flex items-center mb-4">
                    <a href="{{ $site.BaseURL }}" class="flex items-center">
                        {{ with $site.Params.logo }}
                            <img src="{{ . | relURL }}" alt="{{ $site.Title }}" class="h-10 w-auto">
                        {{ else }}
                            <span class="text-2xl font-bold text-white">{{ $site.Title }}</span>
                        {{ end }}
                    </a>
                </div>
                <p class="text-gray-400 text-sm mb-6">
                    {{ $site.Params.description | default "Eteo strives to offer affordable learning solutions for various certification tests and educational needs." }}
                </p>
                <div class="flex space-x-4">
                    {{ with $site.Params.social.facebook }}
                    <a href="{{ . }}" class="text-gray-400 hover:text-white transition-colors duration-200">
                        <span class="sr-only">Facebook</span>
                        <i class="bi bi-facebook text-xl"></i>
                    </a>
                    {{ end }}
                    {{ with $site.Params.social.twitter }}
                    <a href="{{ . }}" class="text-gray-400 hover:text-white transition-colors duration-200">
                        <span class="sr-only">Twitter</span>
                        <i class="bi bi-twitter-x text-xl"></i>
                    </a>
                    {{ end }}
                    {{ with $site.Params.social.instagram }}
                    <a href="{{ . }}" class="text-gray-400 hover:text-white transition-colors duration-200">
                        <span class="sr-only">Instagram</span>
                        <i class="bi bi-instagram text-xl"></i>
                    </a>
                    {{ end }}
                    {{ with $site.Params.social.linkedin }}
                    <a href="{{ . }}" class="text-gray-400 hover:text-white transition-colors duration-200">
                        <span class="sr-only">LinkedIn</span>
                        <i class="bi bi-linkedin text-xl"></i>
                    </a>
                    {{ end }}
                </div>
            </div>

            <!-- Quick Links -->
            <div>
                <h3 class="text-sm font-semibold text-white uppercase tracking-wider mb-4">Hurtiglenker</h3>
                <ul class="space-y-3">
                    {{ range $site.Menus.main }}
                        <li>
                            <a href="{{ .URL }}" class="text-gray-400 hover:text-white text-sm transition-colors duration-200">
                                {{ .Name }}
                            </a>
                        </li>
                    {{ end }}
                </ul>
            </div>

            <!-- Contact Info -->
            <div>
                <h3 class="text-sm font-semibold text-white uppercase tracking-wider mb-4">Kontakt oss</h3>
                <ul class="space-y-3">
                    {{ with $site.Params.contact.email }}
                    <li class="flex items-start">
                        <i class="bi bi-envelope text-gray-400 mr-3 mt-0.5"></i>
                        <a href="mailto:{{ . }}" class="text-gray-400 hover:text-white text-sm transition-colors duration-200">
                            {{ . }}
                        </a>
                    </li>
                    {{ end }}
                    {{ with $site.Params.contact.phone }}
                    <li class="flex items-start">
                        <i class="bi bi-telephone text-gray-400 mr-3 mt-0.5"></i>
                        <a href="tel:{{ . }}" class="text-gray-400 hover:text-white text-sm transition-colors duration-200">
                            {{ . }}
                        </a>
                    </li>
                    {{ end }}
                    {{ with $site.Params.contact.address }}
                    <li class="flex items-start">
                        <i class="bi bi-geo-alt text-gray-400 mr-3 mt-0.5"></i>
                        <span class="text-gray-400 text-sm">
                            {{ . | safeHTML }}
                        </span>
                    </li>
                    {{ end }}
                </ul>
            </div>

            <!-- Column 2 - Better Integration -->
            <div class="flex-1">
                <h3 class="text-sm font-semibold uppercase tracking-wider text-gray-900 mb-4">{{ .Site.Params.footer.column_2_title }}</h3>
                <ul class="space-y-2">
                    {{ range .Site.Menus.footer_column_2 }}
                        <li>
                            {{ if eq .URL "#" }}
                                <span class="text-gray-600 text-sm">{{ .Name }}</span>
                            {{ else }}
                                <a href="{{ .URL }}" class="text-gray-600 hover:text-primary-600 text-sm">{{ .Name }}</a>
                            {{ end }}
                        </li>
                    {{ end }}
                </ul>
            </div>

            <!-- Column 3 - Contact -->
            <div class="flex-1">
                <h3 class="text-sm font-semibold uppercase tracking-wider text-gray-900 mb-4">{{ .Site.Params.footer.column_3_title }}</h3>
                <ul class="space-y-2">
                    {{ range .Site.Menus.footer_column_3 }}
                        <li><a href="{{ .URL }}" class="text-gray-600 hover:text-primary-600 text-sm">{{ .Name }}</a></li>
                    {{ end }}
                </ul>
            </div>
        </div>

        <!-- Bottom Bar -->
        <div class="border-t border-gray-800 pt-8 mt-8">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-500 text-sm text-center md:text-left mb-4 md:mb-0">
                    &copy; {{ now.Format "2006" }} {{ $site.Title }}. Alle rettigheter reservert.
                </p>
                <div class="flex flex-wrap justify-center space-x-6">
                    {{ range $site.Menus.legal }}
                    <a href="{{ .URL }}" class="text-gray-500 hover:text-white text-sm transition-colors duration-200">
                        {{ .Name }}
                    </a>
                    {{ end }}
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- Back to Top Button -->
<button id="back-to-top" class="fixed bottom-8 right-8 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full shadow-lg opacity-0 invisible transition-all duration-300">
    <i class="bi bi-arrow-up"></i>
</button>

<script>
    // Back to Top Button
    const backToTopButton = document.getElementById('back-to-top');
    
    window.addEventListener('scroll', () => {
        if (window.pageYOffset > 300) {
            backToTopButton.classList.remove('opacity-0', 'invisible');
            backToTopButton.classList.add('opacity-100', 'visible');
        } else {
            backToTopButton.classList.remove('opacity-100', 'visible');
            backToTopButton.classList.add('opacity-0', 'invisible');
        }
    });
    
    backToTopButton.addEventListener('click', () => {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });
</script>
